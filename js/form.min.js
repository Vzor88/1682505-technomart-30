const formLink=document.querySelector(".button-link-form"),formPopup=document.querySelector(".modal-form"),formClose=formPopup.querySelector(".button-close"),formForm=formPopup.querySelector(".form-user"),formLogin=formPopup.querySelector(".form-login"),formEmail=formPopup.querySelector(".form-email"),formLetter=formPopup.querySelector(".letter-textarea");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(o){isStorageSupport=!1}formLink.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.add("modal-show"),storage?(formLogin.value=storage,formEmail.focus()):formLogin.focus()}),formClose.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error")}),formForm.addEventListener("submit",function(o){formLogin.value&&formEmail.value&&formLetter.value?isStorageSupport&&localStorage.setItem("login",formLogin.value):(o.preventDefault(),formPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&formPopup.classList.contains("modal-show")&&(o.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error"))});
